# FactoryBot  
|利用可能フレームワーク | RubyonRails                                                   |  
|---------------------|---------------------------------------------------------------|
|用途                  |●他のファイルであらかじめ各クラスのインスタンスに定める値を設定しておき|
|                      | 各テストコードで使用可能にするGem。                              |
|                      | ●インスタンスをまとめることができる。　　　　                     |
|bundle install        | 要                                                           | 
|個別インストール        | 不要                                                         |
|設定変更               | 要                                                           |  

## 実装方法  
⑴``Gemfile``の``group :devekopment, :test do ～ end``内に以下のように追記する。  
```bush
  gem "factory_bot_rails"
```  
⑵アプリケーションのディレクトリへ移動し、ターミナルで以下のコマンドを順に実行する。  
  ```bush
  bundle install  
  ```  
⑶アプリケーションのディレクトリに``spec``が作成されていることを確認する。  
作成されていない場合、手動で最上位ディレクトリに``spec``を手動で作成する。  
  
⑷``specディレクトリ``内に``factoriesディレクトリ``を手動で作成する。  

⑸テスト対象毎に``FactoryBot``のファイル``MVCモデル名複数形.rb``を手動で作成する。  

⑹作成した``MVCモデル名.erb``にそのテストで使用するインスタンスの値を設定する。  
```ruby
FactoryBot.define do
  factory :インスタンス名(MVCモデル名) do
    カラム名1              {"値"}
    カラム名2              {"値"}
    カラム名3              {"値"}
  end
end
```
⑺設定したインスタンスを使用したいテストコードの中に以下のように記述する。  
``build``はActiveRecordの``newメソッド``と同様の意味を持つ。  
```ruby
FactoryBot.build(:インスタンス名)
```

⑻テストコード内で同じ意図のコードを繰り返し使用する際には  
以下のように記述して各テストコードが実行される前にまとめて生成する。  
Gemの``Faker``を使用するとインスタンス生成の度に値をランダムで生成できる。  
※インスタンスの生成を``before``で行う場合、インスタンス変数に代入する形で変数定義する。  
また定義したインスタンス変数で以降のテストコードを記述すること。
```ruby
before do
  #何かしらの処理
end
```

##関連ワード  
●``Faker``
